/* Safari/iOS Compatibility Fixes for Cat Animation */

/* Enhanced cat wrapper with Safari/iOS support */
.cat-image-wrapper {
    width: 160px;
    height: 160px;
    cursor: pointer;
    -webkit-transition: -webkit-transform var(--transition-fast);
    transition: transform var(--transition-fast);
    -webkit-animation: catIdle 3s ease-in-out infinite;
    animation: catIdle 3s ease-in-out infinite;
    border-radius: 0 !important;
    overflow: visible !important;
    box-shadow: none !important;
    background: transparent !important;
    border: none !important;
    /* Force hardware acceleration for Safari/iOS */
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    will-change: transform;
}

/* Safari-specific keyframes for catIdle */
@-webkit-keyframes catIdle {

    0%,
    100% {
        -webkit-transform: translate3d(0, 0, 0) scale(1);
        transform: translate3d(0, 0, 0) scale(1);
    }

    50% {
        -webkit-transform: translate3d(0, -5px, 0) scale(1.05);
        transform: translate3d(0, -5px, 0) scale(1.05);
    }
}

@keyframes catIdle {

    0%,
    100% {
        -webkit-transform: translate3d(0, 0, 0) scale(1);
        transform: translate3d(0, 0, 0) scale(1);
    }

    50% {
        -webkit-transform: translate3d(0, -5px, 0) scale(1.05);
        transform: translate3d(0, -5px, 0) scale(1.05);
    }
}

.cat-image-wrapper:hover {
    -webkit-animation: none;
    animation: none;
    -webkit-transform: scale(1.1) !important;
    transform: scale(1.1) !important;
}

.cat-image-wrapper.playing {
    -webkit-animation: catPlay 0.8s ease-out;
    animation: catPlay 0.8s ease-out;
}

/* Safari-specific keyframes for catPlay */
@-webkit-keyframes catPlay {
    0% {
        -webkit-transform: translate3d(0, 0, 0) rotateZ(0deg) scale(1);
        transform: translate3d(0, 0, 0) rotateZ(0deg) scale(1);
    }

    25% {
        -webkit-transform: translate3d(0, -20px, 0) rotateZ(-10deg) scale(1.1);
        transform: translate3d(0, -20px, 0) rotateZ(-10deg) scale(1.1);
    }

    50% {
        -webkit-transform: translate3d(0, -15px, 0) rotateZ(10deg) scale(1.05);
        transform: translate3d(0, -15px, 0) rotateZ(10deg) scale(1.05);
    }

    75% {
        -webkit-transform: translate3d(0, -8px, 0) rotateZ(-5deg) scale(1.08);
        transform: translate3d(0, -8px, 0) rotateZ(-5deg) scale(1.08);
    }

    100% {
        -webkit-transform: translate3d(0, 0, 0) rotateZ(0deg) scale(1);
        transform: translate3d(0, 0, 0) rotateZ(0deg) scale(1);
    }
}

@keyframes catPlay {
    0% {
        -webkit-transform: translate3d(0, 0, 0) rotateZ(0deg) scale(1);
        transform: translate3d(0, 0, 0) rotateZ(0deg) scale(1);
    }

    25% {
        -webkit-transform: translate3d(0, -20px, 0) rotateZ(-10deg) scale(1.1);
        transform: translate3d(0, -20px, 0) rotateZ(-10deg) scale(1.1);
    }

    50% {
        -webkit-transform: translate3d(0, -15px, 0) rotateZ(10deg) scale(1.05);
        transform: translate3d(0, -15px, 0) rotateZ(10deg) scale(1.05);
    }

    75% {
        -webkit-transform: translate3d(0, -8px, 0) rotateZ(-5deg) scale(1.08);
        transform: translate3d(0, -8px, 0) rotateZ(-5deg) scale(1.08);
    }

    100% {
        -webkit-transform: translate3d(0, 0, 0) rotateZ(0deg) scale(1);
        transform: translate3d(0, 0, 0) rotateZ(0deg) scale(1);
    }
}

/* Ensure the cat GIF itself has hardware acceleration */
.cat-gif {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 0 !important;
    border: none !important;
    outline: none !important;
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
}